<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>CSS Variable Comprehensive Test</title>
    <style>
        .test-box {
            width: 100%;
            height: 50px;
            margin: 8px 0;
            display: flex;
            align-items: center;
            padding-left: 20px;
            border: 2px solid black;
            font-weight: bold;
            font-size: 14px;
        }

        body {
            font-family: sans-serif;
            margin: 20px;
        }

        h2 {
            margin-top: 30px;
            border-bottom: 1px solid #ccc;
            padding-bottom: 5px;
        }

        /* ============ :root custom properties ============ */
        :root {
            --my-green: rgb(0, 200, 100);
            --my-blue: rgb(0, 100, 255);
            --my-red: rgb(255, 50, 50);
            --my-opacity: 0.5;
            --primary-color: #3366cc;
            --spacing-unit: 10px;
            --border-width: 3px;
            --font-size-large: 18px;
        }

        /* ============ Test 1: Simple var() in rgba() - Tailwind pattern ============ */
        .test-tailwind {
            --tw-bg-opacity: 1;
            background-color: rgba(0, 100, 255, var(--tw-bg-opacity));
            color: white;
        }

        /* ============ Test 2: var() for whole color value ============ */
        .test-whole-color {
            background-color: var(--my-green);
            color: white;
        }

        /* ============ Test 3: Inherited from :root ============ */
        .test-root-inherit {
            background-color: var(--my-blue);
            color: white;
        }

        /* ============ Test 4: Multi-level inheritance ============ */
        .parent-level {
            --parent-color: rgb(128, 0, 128);
        }

        .child-level {
            background-color: var(--parent-color);
            color: white;
        }

        /* ============ Test 5: Deep nesting inheritance ============ */
        .grandparent {
            --gp-color: rgb(255, 165, 0);
        }

        .parent-wrapper {
            /* parent doesn't define, should inherit from grandparent */
        }

        .grandchild {
            background-color: var(--gp-color);
            color: black;
        }

        /* ============ Test 6: Override in child ============ */
        .parent-original {
            --override-color: rgb(100, 100, 100);
        }

        .child-override {
            --override-color: rgb(0, 200, 200);
            background-color: var(--override-color);
            color: black;
        }

        /* ============ Test 7: Multiple variables in same rule ============ */
        .test-multi-var {
            --local-bg: rgb(200, 150, 100);
            background-color: var(--local-bg);
            color: white;
        }

        /* ============ Test 8: var() with hex color ============ */
        .test-hex-var {
            background-color: var(--primary-color);
            color: white;
        }

        /* ============ Test 9: Sibling inheritance (should NOT inherit from sibling) ============ */
        .sibling-a {
            --sibling-color: rgb(255, 0, 0);
            background-color: var(--sibling-color);
            color: white;
        }

        .sibling-b {
            /* Should NOT see --sibling-color, will fall back to default */
            background-color: var(--sibling-color, rgb(128, 128, 128));
            color: white;
        }

        /* ============ Control tests ============ */
        .bg-rgba-direct {
            background-color: rgba(255, 165, 0, 1);
            color: black;
        }

        .bg-rgb-direct {
            background-color: rgb(0, 200, 200);
            color: black;
        }

        .bg-red {
            background-color: red;
            color: white;
        }
    </style>
</head>

<body>
    <h1>CSS Variable Comprehensive Test</h1>
    <p>Each box should show a distinct color. White/transparent = FAILED to parse.</p>

    <h2>Basic var() Usage</h2>

    <div class="test-box test-tailwind">
        Test 1: BLUE - rgba(..., var(--tw-bg-opacity)) - Tailwind pattern
    </div>

    <div class="test-box test-whole-color">
        Test 2: GREEN - var(--my-green) - whole color value
    </div>

    <div class="test-box test-root-inherit">
        Test 3: BLUE - var(--my-blue) - inherited from :root
    </div>

    <h2>Inheritance Tests</h2>

    <div class="parent-level">
        <div class="test-box child-level">
            Test 4: PURPLE - var(--parent-color) - inherited from parent
        </div>
    </div>

    <div class="grandparent">
        <div class="parent-wrapper">
            <div class="test-box grandchild">
                Test 5: ORANGE - var(--gp-color) - inherited from grandparent (skip parent)
            </div>
        </div>
    </div>

    <div class="parent-original">
        <div class="test-box child-override">
            Test 6: CYAN - var(--override-color) - child overrides parent
        </div>
    </div>

    <h2>Other Variable Types</h2>

    <div class="test-box test-multi-var">
        Test 7: TAN/BROWN - multiple vars in same rule
    </div>

    <div class="test-box test-hex-var">
        Test 8: BLUE (#3366cc) - hex color via var()
    </div>

    <h2>Sibling Scope Test</h2>

    <div class="test-box sibling-a">
        Test 9a: RED - defines --sibling-color
    </div>

    <div class="test-box sibling-b">
        Test 9b: GRAY - should NOT inherit sibling's var, uses fallback
    </div>

    <h2>Control Tests (No Variables)</h2>

    <div class="test-box bg-rgba-direct">
        Control A: ORANGE - direct rgba(255, 165, 0, 1)
    </div>

    <div class="test-box bg-rgb-direct">
        Control B: CYAN - direct rgb(0, 200, 200)
    </div>

    <div class="test-box bg-red">
        Control C: RED - keyword color
    </div>
</body>

</html>